{
  "version": 3,
  "sources": ["../../../../../../node_modules/.pnpm/backoff-rxjs@7.0.0_rxjs@7.8.2/node_modules/backoff-rxjs/dist/esm5/utils.js", "../../../../../../node_modules/.pnpm/backoff-rxjs@7.0.0_rxjs@7.8.2/node_modules/backoff-rxjs/dist/esm5/operators/retryBackoff.js", "../../../../../../node_modules/.pnpm/backoff-rxjs@7.0.0_rxjs@7.8.2/node_modules/backoff-rxjs/dist/esm5/observable/intervalBackoff.js"],
  "sourcesContent": ["export function getDelay(backoffDelay, maxInterval) {\n  return Math.min(backoffDelay, maxInterval);\n}\nexport function exponentialBackoffDelay(iteration, initialInterval) {\n  return Math.pow(2, iteration) * initialInterval;\n}", "import { defer, iif, throwError, timer, concatMap, retryWhen, tap } from 'rxjs';\nimport { exponentialBackoffDelay, getDelay } from '../utils';\nexport function retryBackoff(config) {\n  var _a = typeof config === 'number' ? {\n      initialInterval: config\n    } : config,\n    initialInterval = _a.initialInterval,\n    _b = _a.maxRetries,\n    maxRetries = _b === void 0 ? Infinity : _b,\n    _c = _a.maxInterval,\n    maxInterval = _c === void 0 ? Infinity : _c,\n    _d = _a.shouldRetry,\n    shouldRetry = _d === void 0 ? function () {\n      return true;\n    } : _d,\n    _e = _a.resetOnSuccess,\n    resetOnSuccess = _e === void 0 ? false : _e,\n    _f = _a.backoffDelay,\n    backoffDelay = _f === void 0 ? exponentialBackoffDelay : _f;\n  return function (source) {\n    return defer(function () {\n      var index = 0;\n      return source.pipe(retryWhen(function (errors) {\n        return errors.pipe(concatMap(function (error) {\n          var attempt = index++;\n          return iif(function () {\n            return attempt < maxRetries && shouldRetry(error);\n          }, timer(getDelay(backoffDelay(attempt, initialInterval), maxInterval)), throwError(error));\n        }));\n      }), tap(function () {\n        if (resetOnSuccess) {\n          index = 0;\n        }\n      }));\n    });\n  };\n}", "import { of, timer, asyncScheduler, expand, mapTo } from 'rxjs';\nimport { exponentialBackoffDelay, getDelay } from '../utils';\nexport function intervalBackoff(config, scheduler) {\n  if (scheduler === void 0) {\n    scheduler = asyncScheduler;\n  }\n  var _a = typeof config === 'number' ? {\n      initialInterval: config\n    } : config,\n    initialInterval = _a.initialInterval,\n    _b = _a.maxInterval,\n    maxInterval = _b === void 0 ? Infinity : _b,\n    _c = _a.backoffDelay,\n    backoffDelay = _c === void 0 ? exponentialBackoffDelay : _c;\n  initialInterval = initialInterval < 0 ? 0 : initialInterval;\n  return of(0, scheduler).pipe(expand(function (iteration) {\n    return timer(getDelay(backoffDelay(iteration, initialInterval), maxInterval)).pipe(mapTo(iteration + 1));\n  }));\n}"],
  "mappings": ";;;;;;;;;;;;;;;;;;AAAO,SAAS,SAAS,cAAc,aAAa;AAClD,SAAO,KAAK,IAAI,cAAc,WAAW;AAC3C;AACO,SAAS,wBAAwB,WAAW,iBAAiB;AAClE,SAAO,KAAK,IAAI,GAAG,SAAS,IAAI;AAClC;;;ACHO,SAAS,aAAa,QAAQ;AACnC,MAAI,KAAK,OAAO,WAAW,WAAW;AAAA,IAClC,iBAAiB;AAAA,EACnB,IAAI,QACJ,kBAAkB,GAAG,iBACrB,KAAK,GAAG,YACR,aAAa,OAAO,SAAS,WAAW,IACxC,KAAK,GAAG,aACR,cAAc,OAAO,SAAS,WAAW,IACzC,KAAK,GAAG,aACR,cAAc,OAAO,SAAS,WAAY;AACxC,WAAO;AAAA,EACT,IAAI,IACJ,KAAK,GAAG,gBACR,iBAAiB,OAAO,SAAS,QAAQ,IACzC,KAAK,GAAG,cACR,eAAe,OAAO,SAAS,0BAA0B;AAC3D,SAAO,SAAU,QAAQ;AACvB,WAAO,MAAM,WAAY;AACvB,UAAI,QAAQ;AACZ,aAAO,OAAO,KAAK,UAAU,SAAU,QAAQ;AAC7C,eAAO,OAAO,KAAK,UAAU,SAAU,OAAO;AAC5C,cAAI,UAAU;AACd,iBAAO,IAAI,WAAY;AACrB,mBAAO,UAAU,cAAc,YAAY,KAAK;AAAA,UAClD,GAAG,MAAM,SAAS,aAAa,SAAS,eAAe,GAAG,WAAW,CAAC,GAAG,WAAW,KAAK,CAAC;AAAA,QAC5F,CAAC,CAAC;AAAA,MACJ,CAAC,GAAG,IAAI,WAAY;AAClB,YAAI,gBAAgB;AAClB,kBAAQ;AAAA,QACV;AAAA,MACF,CAAC,CAAC;AAAA,IACJ,CAAC;AAAA,EACH;AACF;;;AClCO,SAAS,gBAAgB,QAAQ,WAAW;AACjD,MAAI,cAAc,QAAQ;AACxB,gBAAY;AAAA,EACd;AACA,MAAI,KAAK,OAAO,WAAW,WAAW;AAAA,IAClC,iBAAiB;AAAA,EACnB,IAAI,QACJ,kBAAkB,GAAG,iBACrB,KAAK,GAAG,aACR,cAAc,OAAO,SAAS,WAAW,IACzC,KAAK,GAAG,cACR,eAAe,OAAO,SAAS,0BAA0B;AAC3D,oBAAkB,kBAAkB,IAAI,IAAI;AAC5C,SAAO,GAAG,GAAG,SAAS,EAAE,KAAK,OAAO,SAAU,WAAW;AACvD,WAAO,MAAM,SAAS,aAAa,WAAW,eAAe,GAAG,WAAW,CAAC,EAAE,KAAK,MAAM,YAAY,CAAC,CAAC;AAAA,EACzG,CAAC,CAAC;AACJ;",
  "names": []
}
